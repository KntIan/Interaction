import{v as a,j as e,h as n,M as o,x as s}from"./index-B-dpguDl.js";const t=(i="post",async(e,n)=>new Promise(((s,t)=>{o({url:`http://admin.evidentecn.com/api${e}`,method:i.toUpperCase(),data:n,header:{token:a("token")||""},success:a=>{200===a.statusCode?s(a.data):t(new Error(`API错误: ${a.statusCode}`))},fail:a=>{console.error(`请求 ${i.toUpperCase()} ${e} 时出错:`,a),t(a)}})})));var i;const r=(a,e)=>{try{s(a,e),console.log(`${a} 存储成功`)}catch(n){console.error(`${a} 存储失败`,n)}},c=a=>{if("undefined"==typeof window)return null;const e=window.location.href.match(new RegExp(`[?&]${a}=([^&#]*)`));return e?e[1]:null},l=()=>{a("token")?(e({url:"/pages/index/index"}),console.log("已登录，跳转至主页")):(n({url:"/pages/login/login"}),console.log("未登录，跳转至登录页"))},d=async a=>{const e=await t("/user/mobilelogin",a),{token:n,...o}=e.data.userinfo||{};if(console.log(e),!n)throw new Error("未能获取token");return r("token",n),r("userInfo",JSON.stringify(o)),console.log(o.company),{token:n,company:o.company}},w=async a=>await t("/sms/send",{mobile:a,event:"mobilelogin"}),p=async a=>await t("/index/point",a),y=async a=>await t("/user/profile",a),u=async a=>await t("/index/pointList",a),g=async a=>await t("/index/award",a),f=async()=>await t("/index/getUser"),m=async a=>await t("/index/like",a),x=async()=>await t("/index/getMyAward"),h=async a=>await t("/index/delMyAward",a),k=(a,e)=>{const n=a.__vccOpts||a;for(const[o,s]of e)n[o]=s;return n};export{k as _,u as a,m as b,l as c,y as d,g as e,f,c as g,x as h,h as i,d as l,p,w as s};
